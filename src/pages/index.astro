---
import SEO from '../components/SEO.astro';
import MainLayout from '../layouts/MainLayout.astro';
import Hero from '../partials/home/Hero.astro';
import MilestonesStrip from '../partials/home/MilestonesStrip.astro';
import TrustedPrograms from '../partials/home/TrustedPrograms.astro';
import HowItWorks from '../partials/home/HowItWorks.astro';
import MiniTestimonials from '../partials/home/MiniTestimonials.astro';
import PayoutReadiness from '../partials/home/PayoutReadiness.astro';
import WhatYouGet from '../partials/home/WhatYouGet.astro';
import FirstNinetyDays from '../partials/home/FirstNinetyDays.astro';
import VipTeasers from '../components/VipTeasers.astro';
import BannerSlot from '../components/BannerSlot.astro';
import { getCollection } from 'astro:content';

const canonicalPath = Astro.url.pathname;

const featuredModelEntries = await getCollection('models', (entry) => entry.data.featured);
const sortedFeaturedModels = featuredModelEntries
  .sort((a, b) => {
    const aOrder = a.data.featuredOrder ?? Number.POSITIVE_INFINITY;
    const bOrder = b.data.featuredOrder ?? Number.POSITIVE_INFINITY;

    if (aOrder === bOrder) {
      return a.id.localeCompare(b.id);
    }

    return aOrder - bOrder;
  });

const featuredMuseTiles = sortedFeaturedModels.map((entry) => ({
  name: entry.data.name,
  slug: entry.id,
  role: entry.data.archetype,
  summary: entry.data.summary,
  href: '/startright',
  image: entry.data.cardImage ?? entry.data.heroImage
}));

const featuredMuseEntry = sortedFeaturedModels[0];
const featuredMuse = featuredMuseEntry
  ? {
      name: featuredMuseEntry.data.name,
      archetype: featuredMuseEntry.data.archetype,
      image: featuredMuseEntry.data.heroImage,
      quote: `${featuredMuseEntry.data.name}'s walkthrough shows how we format storytelling, offers, and lighting notes inside the StartRight kit.`,
      story: `${featuredMuseEntry.data.name} lives in our example library so you can see how a polished bio, visuals, and schedule might flow. Use it as inspiration—your accounts stay yours, and nothing here is a promise of promotion.`,
      ctaHref: '/startright'
    }
  : {
      name: 'Coming Soon',
      archetype: 'Example muse',
      image: 'https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=960&q=80',
      quote: 'This placeholder illustrates how we storyboard the StartRight kit resources you’ll receive after sign-up.',
      story: 'We’re drafting additional example pages to showcase kit tactics. Check back for fresh demos you can borrow from immediately.',
      ctaHref: '/startright'
    };

const runwayBlueprint = [
  {
    title: 'Immersive Welcome Rituals',
    description:
      'Signature countdowns, playlist cues, and lighting shifts that frame your entrance like a premiere.'
  },
  {
    title: 'Conversion Choreography',
    description:
      'Layered goal pacing, mod-led prompts, and bespoke upsell ladders tuned to your comfort levels.'
  },
  {
    title: 'Aftercare & Retention',
    description:
      'Post-show debriefs, VIP touchpoints, and merch drops that keep your universe buzzing between sets.'
  }
];

const conciergeHighlights = [
  {
    title: 'Concierge Launch Architecture',
    description:
      'Signature onboarding rituals, boutique photography direction, and room-energy scripting tuned for luxury audiences.'
  },
  {
    title: 'Audience Chemistry Lab',
    description:
      'AI-assisted persona mapping, emotional cadence coaching, and nightly debriefs that turn lurkers into patrons.'
  },
  {
    title: 'Revenue Ecosystems',
    description:
      'Layered goal pacing, mod orchestration, and premium upsell frameworks that respect your boundaries and boost lifetime value.'
  }
];

const proofCards = [
  {
    metric: 'StartRight baseline v1.2',
    blurb:
      'Documented 14-day launch ritual with verified lighting cues, pacing scripts, and concierge handoffs so every signup sees the same standard.',
    date: 'Updated Jan 2025'
  },
  {
    metric: 'Retention cadence log',
    blurb:
      'Weekly follow-up rhythm with VIP touchpoints, aftercare loops, and merch teaser prompts sourced from real concierge debriefs.',
    date: 'Rolling 30-day log'
  },
  {
    metric: 'Compliance + privacy binder',
    blurb:
      'Redaction rules, device visibility checklists, and data-minimisation standards we enforce on every concierge project.',
    date: 'Evergreen — reviewed quarterly'
  }
];

const websiteJsonLd = {
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  name: 'NaughtyCamSpot',
  url: import.meta.env.SITE ?? 'https://naughtycamspot.com'
};
---

<MainLayout
  title="NaughtyCamSpot | Luxury Model Gallery"
  description="Refined gallery experience for cam models who crave concierge-level support, rose-gold aesthetics, and growth you can feel."
>
  <SEO
    slot="head"
    title="NaughtyCamSpot | Luxury Cam Model Growth Concierge"
    description="Concierge launch rituals, retention choreography, and revenue ecosystems for luxury cam models ready to scale."
    path={canonicalPath}
    ogImage="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=1280&q=80"
  />
  <script type="application/ld+json" set:html={JSON.stringify(websiteJsonLd)} />

  <Hero />
  <WhatYouGet />
  <div class="my-12 flex justify-center">
    <BannerSlot id="home_top_leaderboard" class="max-w-full" placement="home-what-you-get" />
  </div>
  <FirstNinetyDays />
  <section class="px-6 pb-12">
    <div class="mx-auto flex max-w-6xl flex-col gap-6 rounded-[34px] border border-white/10 bg-white/5 p-8 sm:p-10">
      <div class="space-y-2">
        <p class="text-[clamp(0.75rem,1.1vw,0.9rem)] uppercase tracking-[0.35em] text-rose-petal/70">Proof vault</p>
        <h2 class="font-display text-[clamp(2rem,4vw,2.6rem)] text-white">Receipts that the concierge work is real</h2>
        <p class="max-w-3xl text-[clamp(0.95rem,1.6vw,1.1rem)] text-white/70">
          We ship documented rituals, retention cadences, and compliance guardrails—not vague promises. Here are the artifacts we
          keep live for every cohort.
        </p>
      </div>
      <div class="grid gap-5 md:grid-cols-3">
        {proofCards.map((card) => (
          <article class="flex h-full flex-col gap-3 rounded-3xl border border-white/10 bg-black/30 p-6">
            <div class="flex items-center justify-between text-xs uppercase tracking-[0.3em] text-white/55">
              <span class="rounded-full border border-white/15 px-3 py-1 text-white/70">{card.date}</span>
            </div>
            <h3 class="font-display text-xl text-white">{card.metric}</h3>
            <p class="text-sm leading-relaxed text-white/70">{card.blurb}</p>
            <p class="mt-auto text-[0.85rem] text-white/55">
              Concierge keeps a timestamped copy in your StartRight binder so you always have proof for platforms and partners.
            </p>
          </article>
        ))}
      </div>
    </div>
  </section>
  <MilestonesStrip />
  <TrustedPrograms />
  <PayoutReadiness />
  <VipTeasers />
  <HowItWorks />
  <MiniTestimonials />
</MainLayout>
