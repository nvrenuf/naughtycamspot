---
import MainLayout from '../layouts/MainLayout.astro';
import SEO from '../components/SEO.astro';
import { withBase } from '../utils/links';
import { getRequestLang, t } from '../i18n/core';
import { promoOffer } from '../data/promoOffer';

const canonicalPath = '/packages';
const lang = getRequestLang(Astro.url);
const buildApplyHref = (pkg: string) => {
  const params = new URLSearchParams({ package: pkg });
  return `${withBase('/apply/promo')}?${params.toString()}`;
};

const faqItems = [
  {
    question: 'Who owns the account and content?',
    answer: 'You do. Your platform accounts, media, and payout access remain yours at all times.'
  },
  {
    question: 'Can I cancel anytime?',
    answer: 'Yes. You can stop at renewal. No long lock-in contract.'
  },
  {
    question: 'Do you ask for my login password?',
    answer: 'No. We only use approved files and your permissions.'
  },
  {
    question: 'What is “Promotion (Paid)” here?',
    answer:
      'Promotion (Paid) means paid marketing plan, posting order, and reports. It is separate from Signup Help (Free).'
  }
] as const;
---

<MainLayout
  title="Packages | NaughtyCamSpot"
  description="Promotion (Paid) packages with clear what-you-get lists and trust rules."
>
  <SEO
    slot="head"
    title="Packages | NaughtyCamSpot"
    description="Compare Promotion (Paid) packages with clear what-you-get lists and apply links."
    path={canonicalPath}
  />

  <section class="space-y-8">
    <div class="content-card space-y-4">
      <p class="hero-tagline">Promotion (Paid)</p>
      <h1 class="font-display text-4xl text-white sm:text-5xl">{t(lang, 'packages.title')}</h1>
      <p class="max-w-3xl text-base text-white/75">
        Each package is phone-first: clear tasks, clear handoff, clear trust rules.
      </p>
      <p class="text-sm text-white/70">Trust policy: {promoOffer.nonNegotables.join('. ')}.</p>
      <p class="text-sm text-white/70">Core rules: no passwords, no exclusivity, you own accounts and content.</p>
    </div>

    <div class="content-card space-y-3">
      <h2 class="font-display text-2xl text-white">Supported promo platforms</h2>
      <p class="text-sm text-white/75">Live now: {promoOffer.platformScope.live.join(', ')}</p>
      <p class="text-sm text-white/60">Coming soon: {promoOffer.platformScope.comingSoon.join(', ')}</p>
    </div>

    <div class="grid gap-5">
      <h2 class="font-display text-2xl text-white">Sprint offers</h2>
      {promoOffer.sprintOffers.map((pkg) => (
        <article class="content-card space-y-4">
          <div class="flex flex-wrap items-center justify-between gap-3">
            <p class="text-xs uppercase tracking-[0.35em] text-rose-petal/70">Sprint</p>
            <a
              class="inline-flex items-center justify-center rounded-full border border-rose-gold/50 bg-rose-gold/15 px-4 py-2 text-xs uppercase tracking-[0.3em] text-rose-petal transition hover:border-rose-gold/70 hover:bg-rose-gold/30"
              href={buildApplyHref(pkg.id)}
            >
              {t(lang, 'packages.cta')}
            </a>
          </div>
          <h3 class="font-display text-2xl text-white">{pkg.displayName}</h3>
          <p class="text-sm text-white/70">{pkg.price} · {pkg.timeline}</p>
          <div class="grid gap-4 sm:grid-cols-2">
            <div class="rounded-2xl border border-white/10 bg-black/20 p-4">
              <h4 class="text-xs uppercase tracking-[0.25em] text-rose-petal/70">Deliverables</h4>
              <ul class="mt-3 space-y-2 text-sm text-white/75">
                {pkg.deliverables.map((item) => (
                  <li>{item}</li>
                ))}
              </ul>
            </div>
            <div class="rounded-2xl border border-white/10 bg-black/20 p-4">
              <h4 class="text-xs uppercase tracking-[0.25em] text-rose-petal/70">Model provides</h4>
              <ul class="mt-3 space-y-2 text-sm text-white/75">
                {pkg.gates.map((item) => (
                  <li>{item}</li>
                ))}
              </ul>
            </div>
          </div>
        </article>
      ))}

      <h2 class="font-display text-2xl text-white">Monthly tiers</h2>
      {promoOffer.monthlyTiers.map((pkg) => (
        <article class="content-card space-y-4">
          <div class="flex flex-wrap items-center justify-between gap-3">
            <p class="text-xs uppercase tracking-[0.35em] text-rose-petal/70">Monthly</p>
            <a
              class="inline-flex items-center justify-center rounded-full border border-rose-gold/50 bg-rose-gold/15 px-4 py-2 text-xs uppercase tracking-[0.3em] text-rose-petal transition hover:border-rose-gold/70 hover:bg-rose-gold/30"
              href={buildApplyHref(pkg.id)}
            >
              {t(lang, 'packages.cta')}
            </a>
          </div>
          <h3 class="font-display text-2xl text-white">{pkg.displayName}</h3>
          <p class="text-sm text-white/70">{pkg.price} · {pkg.timeline}</p>
          <div class="grid gap-4 sm:grid-cols-2">
            <div class="rounded-2xl border border-white/10 bg-black/20 p-4">
              <h4 class="text-xs uppercase tracking-[0.25em] text-rose-petal/70">Deliverables</h4>
              <ul class="mt-3 space-y-2 text-sm text-white/75">
                {pkg.deliverables.map((item) => (
                  <li>{item}</li>
                ))}
              </ul>
            </div>
            <div class="rounded-2xl border border-white/10 bg-black/20 p-4">
              <h4 class="text-xs uppercase tracking-[0.25em] text-rose-petal/70">Model provides</h4>
              <ul class="mt-3 space-y-2 text-sm text-white/75">
                {pkg.gates.map((item) => (
                  <li>{item}</li>
                ))}
              </ul>
            </div>
          </div>
        </article>
      ))}

      <h2 class="font-display text-2xl text-white">Add-ons</h2>
      <div class="grid gap-4 sm:grid-cols-2">
        {promoOffer.addOns.map((addOn) => (
          <article class="content-card space-y-3">
            <div class="flex items-start justify-between gap-3">
              <div>
                <h3 class="font-display text-xl text-white">{addOn.name}</h3>
                <p class="text-sm text-white/70">{addOn.price}</p>
              </div>
              <a
                class="inline-flex items-center justify-center rounded-full border border-rose-gold/50 bg-rose-gold/15 px-4 py-2 text-xs uppercase tracking-[0.3em] text-rose-petal transition hover:border-rose-gold/70 hover:bg-rose-gold/30"
                href={buildApplyHref(addOn.id)}
              >
                {t(lang, 'packages.cta')}
              </a>
            </div>
            <p class="text-sm text-white/75">{addOn.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="mt-12 space-y-5">
    <h2 class="font-display text-3xl text-white">Common questions</h2>
    <div class="space-y-3">
      {faqItems.map((faq, index) => (
        <details class="content-card" open={index === 0}>
          <summary class="cursor-pointer text-sm font-semibold uppercase tracking-[0.22em] text-white/85">
            {faq.question}
          </summary>
          <p class="mt-3 text-sm text-white/75">{faq.answer}</p>
        </details>
      ))}
    </div>
    <a
      class="inline-flex items-center justify-center rounded-full border border-rose-gold/50 bg-rose-gold/15 px-6 py-3 text-xs uppercase tracking-[0.3em] text-rose-petal transition hover:border-rose-gold/70 hover:bg-rose-gold/30"
      href={buildApplyHref('starter')}
    >
      {t(lang, 'packages.cta')}
    </a>
  </section>
</MainLayout>
